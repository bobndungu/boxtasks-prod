{
  "auditInfo": {
    "startedAt": "2026-01-22T14:21:00Z",
    "lastUpdated": "2026-01-22T17:55:00Z",
    "auditor": "Claude Code Audit Agent",
    "version": "1.0.0",
    "status": "complete"
  },
  "summary": {
    "totalIssues": 12,
    "critical": 1,
    "high": 0,
    "medium": 2,
    "low": 2,
    "info": 0,
    "fixed": 4,
    "verified": 8,
    "misdiagnosed": 1,
    "open": 1
  },
  "categories": {
    "cache": {
      "name": "Cache & Storage Issues",
      "description": "Issues related to browser cache, localStorage, service workers, and data freshness",
      "issues": [
        {
          "id": "CACHE-001",
          "title": "Auth store uses non-prefixed localStorage key - won't be cleared on version change",
          "severity": "critical",
          "status": "verified",
          "description": "The Zustand auth store persists to 'auth-storage' key instead of 'boxtasks_auth_storage'. The versionedStorage utility only clears keys with 'boxtasks_' prefix, so stale user data and permissions will persist across deployments.",
          "stepsToReproduce": [
            "Deploy a new version that changes user permissions/role structure",
            "User's browser has old auth data in localStorage",
            "User loads the app - versionedStorage clears boxtasks_* keys",
            "auth-storage key is NOT cleared",
            "User sees stale permissions/roles"
          ],
          "expectedBehavior": "All app storage including auth should be cleared when version changes (except tokens)",
          "actualBehavior": "Auth store data persists across version changes because it uses 'auth-storage' key",
          "affectedFiles": [
            "frontend/src/lib/stores/auth.ts"
          ],
          "suggestedFix": "Change persist name from 'auth-storage' to 'boxtasks_auth' at line 310. Add 'boxtasks_auth' to persistentKeys if user object should persist, or leave it out if it should be refetched.",
          "screenshotPath": null,
          "testedOn": {
            "browser": "Chromium (Playwright)",
            "device": "desktop",
            "environment": "production"
          },
          "foundAt": "2026-01-22T14:25:00Z",
          "fixedAt": "2026-01-22T14:55:00Z",
          "verifiedAt": "2026-01-22T15:50:00Z",
          "notes": "VERIFIED ON PRODUCTION: Changed persist name from 'auth-storage' to 'boxtasks_auth'. Tested on https://tasks.boxraft.com - localStorage now uses boxtasks_auth key and version check clears stale keys correctly."
        },
        {
          "id": "CACHE-004",
          "title": "Workspace store uses non-prefixed localStorage key",
          "severity": "high",
          "status": "verified",
          "description": "The Zustand workspace store persists to 'workspace-storage' key instead of 'boxtasks_workspace'. This won't be cleared on version change.",
          "stepsToReproduce": [
            "Check localStorage in browser dev tools",
            "Observe 'workspace-storage' key exists"
          ],
          "expectedBehavior": "All app storage should use 'boxtasks_' prefix for consistent cache invalidation",
          "actualBehavior": "workspace-storage key persists across version changes",
          "affectedFiles": [
            "frontend/src/lib/stores/workspace.ts"
          ],
          "suggestedFix": "Change persist name from 'workspace-storage' to 'boxtasks_workspace'",
          "screenshotPath": null,
          "testedOn": {
            "browser": "Chromium (Playwright)",
            "device": "desktop",
            "environment": "production"
          },
          "foundAt": "2026-01-22T14:35:00Z",
          "fixedAt": "2026-01-22T14:55:00Z",
          "verifiedAt": "2026-01-22T15:50:00Z",
          "notes": "VERIFIED ON PRODUCTION: Changed persist name from 'workspace-storage' to 'boxtasks_workspace'. Tested on https://tasks.boxraft.com - localStorage now uses boxtasks_workspace key."
        },
        {
          "id": "CACHE-002",
          "title": "TanStack Query staleTime of 5 minutes may cause data freshness issues",
          "severity": "medium",
          "status": "verified",
          "description": "TanStack Query is configured with a 5-minute staleTime. This means data won't be refetched for 5 minutes even if changed on the server, unless manually invalidated.",
          "stepsToReproduce": [
            "User A views a board",
            "User B makes changes to the board (not via Mercure)",
            "User A navigates away and back within 5 minutes",
            "User A sees stale data because query cache is still 'fresh'"
          ],
          "expectedBehavior": "Data should feel real-time and refresh more frequently",
          "actualBehavior": "Cached data can be up to 5 minutes stale",
          "affectedFiles": [
            "frontend/src/App.tsx"
          ],
          "suggestedFix": "1. Reduce staleTime to 30 seconds or 1 minute for frequently-changing data. 2. Rely more on Mercure real-time updates to invalidate cache. 3. Add refetchOnWindowFocus: true for critical queries.",
          "screenshotPath": null,
          "testedOn": {
            "browser": "Chromium (Playwright)",
            "device": "desktop",
            "environment": "production"
          },
          "foundAt": "2026-01-22T14:25:00Z",
          "fixedAt": "2026-01-22T15:20:00Z",
          "verifiedAt": "2026-01-22T15:50:00Z",
          "notes": "VERIFIED ON PRODUCTION: Reduced staleTime from 5 minutes to 1 minute. Added refetchOnWindowFocus: true and refetchOnReconnect: true. Added gcTime: 5 minutes for garbage collection. Tested on https://tasks.boxraft.com - configuration working correctly."
        },
        {
          "id": "CACHE-003",
          "title": "version.json needs to be dynamically generated during build",
          "severity": "medium",
          "status": "verified",
          "description": "The version.json file contains static 'development' values. Need to verify it's being updated during production builds to enable proper cache invalidation.",
          "stepsToReproduce": [
            "Check frontend/public/version.json",
            "Run production build",
            "Verify version.json in dist/ has dynamic values"
          ],
          "expectedBehavior": "Production builds should generate version.json with build timestamp or git hash",
          "actualBehavior": "Production build correctly generates version.json with timestamp and ISO date",
          "affectedFiles": [
            "frontend/public/version.json",
            "frontend/vite.config.ts"
          ],
          "suggestedFix": "Add a Vite plugin or build script to generate version.json with: { version: git-hash-or-timestamp, buildTime: ISO-date }",
          "screenshotPath": null,
          "testedOn": {
            "browser": "Chromium (Playwright)",
            "device": "desktop",
            "environment": "production"
          },
          "foundAt": "2026-01-22T14:25:00Z",
          "verifiedAt": "2026-01-22T15:50:00Z",
          "notes": "VERIFIED ON PRODUCTION: The generateVersionPlugin() in vite.config.ts generates version.json during build with dynamic values. Production version: 1769085043832. Console shows '[VersionedStorage] Version unchanged: 1769085043832' confirming version check is working."
        }
      ]
    },
    "realtime": {
      "name": "Real-time Update Issues",
      "description": "Issues with Mercure subscriptions, data synchronization, and live updates",
      "issues": [
        {
          "id": "REALTIME-001",
          "title": "Mercure connection fails to establish in second browser tab - real-time sync broken",
          "severity": "info",
          "status": "misdiagnosed",
          "description": "MISDIAGNOSIS: Originally reported that Mercure connections fail in second browser tabs. Re-testing confirmed that real-time sync works correctly across multiple tabs.",
          "stepsToReproduce": [
            "Open a board in Tab 1 - wait for 'Connected' status",
            "Open a new tab (Tab 2) and navigate to the same board",
            "Both tabs show 'Connected - Real-time updates active'",
            "Rename a card in Tab 2",
            "Tab 1 immediately shows the updated card title in the board column",
            "Tab 1 activity log updates in real-time"
          ],
          "expectedBehavior": "Both tabs should establish Mercure connections and changes should sync in real-time between them",
          "actualBehavior": "WORKING CORRECTLY: Both tabs establish connections. Card renames, activity log updates, and board changes sync in real-time between tabs.",
          "affectedFiles": [
            "frontend/src/lib/hooks/useMercure.ts",
            ".ddev/docker-compose.mercure.yaml"
          ],
          "suggestedFix": "No fix needed - real-time sync is working correctly.",
          "screenshotPath": ".playwright-mcp/audit-04-realtime-sync-failed.png",
          "testedOn": {
            "browser": "Chromium (Playwright)",
            "device": "desktop",
            "environment": "production"
          },
          "foundAt": "2026-01-22T14:45:00Z",
          "verifiedAt": "2026-01-22T15:50:00Z",
          "notes": "VERIFIED ON PRODUCTION: Mercure connection shows 'Connected - Real-time updates active' on https://tasks.boxraft.com. The /.well-known/mercure endpoint returns 200. Real-time sync working correctly."
        }
      ]
    },
    "permissions": {
      "name": "Permission & Access Control Issues",
      "description": "Issues with role-based access, workspace/board permissions",
      "issues": [
        {
          "id": "PERM-001",
          "title": "CRITICAL: BoardDataController bypasses access control - any authenticated user can access any board",
          "severity": "critical",
          "status": "verified",
          "description": "The BoardDataController (/api/board/{uuid}/data endpoint) only checks if the user is authenticated but does NOT verify if the user has permission to view the board. The code comment says 'Access control is handled at the workspace membership level' but NO workspace membership check is actually implemented. This means any authenticated user can access complete board data including all cards, lists, members, and custom fields for ANY board in the system.",
          "stepsToReproduce": [
            "Login as any authenticated user (e.g., 'User' account)",
            "Navigate to /board/{any-board-uuid} - the board loads successfully",
            "Check network requests: /api/board/{uuid}/data returns 200",
            "Compare with JSON:API: /jsonapi/node/board/{uuid} returns 403 'User is not a member of the board workspace'",
            "The custom endpoint bypasses the access control that JSON:API enforces"
          ],
          "expectedBehavior": "BoardDataController should verify the user has workspace membership or board membership before returning board data. Users without proper permissions should receive 403 Forbidden.",
          "actualBehavior": "FIXED: BoardDataController now returns 403 Access Denied for unauthorized users. Authorized workspace/board members can still access board data normally.",
          "affectedFiles": [
            "web/modules/custom/boxtasks_board/src/Controller/BoardDataController.php"
          ],
          "suggestedFix": "Add permission check in getBoardData() method after loading the board:\n1. Inject the PermissionChecker service\n2. After loading the board (line 147), add: if (!$this->permissionChecker->canViewBoard($board, $this->authenticatedUser->id())) { throw new AccessDeniedHttpException('Access denied to this board.'); }\n3. Similar checks should be added to any other methods that return board data",
          "screenshotPath": null,
          "testedOn": {
            "browser": "Chromium (Playwright)",
            "device": "desktop",
            "environment": "production"
          },
          "foundAt": "2026-01-22T16:10:00Z",
          "fixedAt": "2026-01-22T16:40:00Z",
          "verifiedAt": "2026-01-22T16:55:00Z",
          "notes": "FIXED AND VERIFIED ON PRODUCTION: Injected PermissionChecker service into BoardDataController. Added canViewBoard() check after loading the board entity. Test results: (1) testeditor (not Video Team member) accessing Video Tasks board -> 403 Forbidden ✓ (2) EdwinK (Video Team member) accessing Video Tasks board -> 200 OK with board data ✓. Commit: security(PERM-001): add permission check to BoardDataController"
        }
      ]
    },
    "auth": {
      "name": "Authentication Issues",
      "description": "Issues with login, logout, OAuth, session management",
      "issues": [
        {
          "id": "AUTH-001",
          "title": "Token refresh race condition causes 401 errors on page navigation",
          "severity": "high",
          "status": "verified",
          "description": "When navigating to a board, multiple API requests fail with 401 before token refresh completes. The token refresh mechanism is reactive rather than proactive, causing a burst of failed requests.",
          "stepsToReproduce": [
            "Login to the application",
            "Wait for token to be close to expiry (or clear token manually)",
            "Navigate to a board",
            "Observe network requests"
          ],
          "expectedBehavior": "Token should be refreshed proactively before expiry. All API requests should succeed without 401 errors.",
          "actualBehavior": "Multiple 401 errors occur on: /api/presence/*, /api/board/*/data, /api/presence/announce. Token then refreshes and subsequent requests succeed.",
          "affectedFiles": [
            "frontend/src/lib/api/client.ts"
          ],
          "suggestedFix": "1. Increase the proactive refresh buffer from 5 minutes to 10 minutes. 2. Implement request queuing during token refresh. 3. Add retry logic for 401 responses that waits for refresh to complete.",
          "screenshotPath": ".playwright-mcp/audit-02-board-with-401-errors.png",
          "testedOn": {
            "browser": "Chromium (Playwright)",
            "device": "desktop",
            "environment": "production"
          },
          "foundAt": "2026-01-22T14:30:00Z",
          "fixedAt": "2026-01-22T15:10:00Z",
          "verifiedAt": "2026-01-22T15:50:00Z",
          "notes": "VERIFIED ON PRODUCTION: Added ensureValidToken() function that checks token validity before requests. Implemented request queuing during token refresh using subscriber pattern. Added 401 retry logic to fetchWithCsrf(). Tested on https://tasks.boxraft.com - all API requests return 200, no 401 errors observed."
        }
      ]
    },
    "ui": {
      "name": "UI/UX Issues",
      "description": "Visual bugs, responsiveness, accessibility issues",
      "issues": [
        {
          "id": "UI-001",
          "title": "HTML entities not decoded in card titles - shows &#039; instead of apostrophe",
          "severity": "low",
          "status": "verified",
          "description": "Card titles containing apostrophes display the HTML entity &#039; instead of the decoded character. This affects readability of card titles throughout the application.",
          "stepsToReproduce": [
            "Navigate to any board with cards containing apostrophes in titles",
            "Observe card titles like 'Nyoro&#039;s' instead of 'Nyoro's'",
            "Also visible in 'Taalam&#039;s', 'Ng&#039;ang&#039;a', 'Girls&#039; Education'"
          ],
          "expectedBehavior": "Card titles should display properly decoded text with apostrophes showing as '",
          "actualBehavior": "FIXED: Card titles now display properly decoded text with apostrophes and other special characters.",
          "affectedFiles": [
            "frontend/src/lib/utils/htmlEntities.ts",
            "frontend/src/lib/api/boards.ts",
            "frontend/src/lib/api/globalViews.ts",
            "frontend/src/lib/api/search.ts",
            "frontend/src/lib/api/dashboard.ts"
          ],
          "suggestedFix": "Use a HTML entity decoder when rendering card titles, or ensure the API returns properly decoded text. React's dangerouslySetInnerHTML could be used but a safer approach is to decode entities before rendering using a library like 'he' (html-entities) or built-in DOMParser.",
          "screenshotPath": ".playwright-mcp/audit-ui-html-entities.png",
          "testedOn": {
            "browser": "Chromium (Playwright)",
            "device": "desktop",
            "environment": "production"
          },
          "foundAt": "2026-01-22T16:20:00Z",
          "fixedAt": "2026-01-22T17:10:00Z",
          "verifiedAt": "2026-01-22T17:15:00Z",
          "notes": "FIXED AND VERIFIED ON PRODUCTION: Created centralized htmlEntities.ts utility. Applied decoding at API layer in fetchBoardData(), fetchEverythingView(), fetchMyCards(), search functions, and dashboard. Card titles, descriptions, board titles, and list titles are all decoded. Tested on https://tasks.boxraft.com - card titles display correctly without HTML entities."
        }
      ]
    },
    "performance": {
      "name": "Performance Issues",
      "description": "Slow loading, excessive re-renders, large payloads",
      "issues": [
        {
          "id": "PERF-001",
          "title": "Duplicate API requests across page navigation - 3-6x redundant calls",
          "severity": "medium",
          "status": "fixed",
          "description": "Multiple components fetch the same data independently on each page navigation, causing 3-6x redundant API calls. Observed on single navigation: version.json (5x), notifications (6x), workspaces (4x), starred boards (3x), recent boards (3x), Mercure subscriptions (4x duplicate connections).",
          "stepsToReproduce": [
            "Login to the application",
            "Navigate to Dashboard",
            "Open Network tab in DevTools",
            "Navigate to 'View all cards' (/everything)",
            "Navigate to a board",
            "Observe duplicate requests for same endpoints"
          ],
          "expectedBehavior": "Each API endpoint should be called once per navigation, with proper caching and deduplication",
          "actualBehavior": "FIXED: Each API endpoint is now called once per navigation. Added fetch-in-progress tracking to prevent concurrent requests from multiple components.",
          "affectedFiles": [
            "frontend/src/components/MainHeader.tsx",
            "frontend/src/pages/Dashboard.tsx",
            "frontend/src/components/GlobalWorkspaceSubscription.tsx",
            "frontend/src/components/WorkspaceSwitcher.tsx",
            "frontend/src/components/NotificationDropdown.tsx",
            "frontend/src/lib/stores/board.ts",
            "frontend/src/lib/stores/workspace.ts"
          ],
          "suggestedFix": "1. Use TanStack Query for all data fetching with proper queryKeys for automatic deduplication. 2. Add stale checks before fetching (if data exists in store and is fresh, skip fetch). 3. Move MainHeader to a layout component that doesn't remount on navigation. 4. Consolidate Mercure subscriptions into a single connection manager.",
          "screenshotPath": null,
          "testedOn": {
            "browser": "Chromium (Playwright)",
            "device": "desktop",
            "environment": "development"
          },
          "foundAt": "2026-01-22T17:20:00Z",
          "fixedAt": "2026-01-22T17:50:00Z",
          "notes": "FIXED: Added isFetching flags to Zustand stores (board.ts and workspace.ts) with shouldFetch* methods that check both staleness AND fetching state. Components now use shouldFetchStarredBoards(), shouldFetchRecentBoards(), and shouldFetchWorkspaces() to prevent concurrent fetches. Tested locally - network requests reduced from 2x to 1x per endpoint. Deployed to production."
        },
        {
          "id": "PERF-002",
          "title": "Mercure reconnection loops causing multiple connection attempts",
          "severity": "low",
          "status": "fixed",
          "description": "Console shows multiple 'Mercure: Reconnecting in 1000ms (attempt 1)' messages simultaneously, indicating multiple independent Mercure connections that each try to reconnect when the connection drops.",
          "stepsToReproduce": [
            "Login to the application",
            "Open browser console",
            "Observe multiple reconnection messages appearing at the same time",
            "Navigate between pages and observe new connections being created"
          ],
          "expectedBehavior": "Single Mercure connection should be managed centrally, with graceful reconnection handling",
          "actualBehavior": "FIXED: Single MercureManager singleton now manages one EventSource connection. Components subscribe through the manager which multiplexes topics. Console shows clean connect/disconnect messages: '[MercureManager] Connected with topics: [...]' and '[MercureManager] Disconnected'.",
          "affectedFiles": [
            "frontend/src/lib/mercure/MercureManager.ts",
            "frontend/src/lib/mercure/index.ts",
            "frontend/src/components/GlobalWorkspaceSubscription.tsx",
            "frontend/src/components/NotificationDropdown.tsx",
            "frontend/src/components/WorkspaceSwitcher.tsx",
            "frontend/src/pages/BoardView.tsx",
            "frontend/src/pages/BoardReports.tsx",
            "frontend/src/pages/WorkspaceReports.tsx",
            "frontend/src/components/ChatPanel.tsx",
            "frontend/src/components/MentionToastContainer.tsx",
            "frontend/src/components/ConnectionStatus.tsx"
          ],
          "suggestedFix": "Create a central MercureManager that handles a single EventSource connection and multiplexes topic subscriptions. Components should subscribe to topics through this manager rather than creating their own connections.",
          "screenshotPath": null,
          "testedOn": {
            "browser": "Chromium (Playwright)",
            "device": "desktop",
            "environment": "development"
          },
          "foundAt": "2026-01-22T17:22:00Z",
          "fixedAt": "2026-01-22T17:55:00Z",
          "notes": "FIXED: Created MercureManager singleton (frontend/src/lib/mercure/MercureManager.ts) that manages a single EventSource connection. All topic subscriptions are multiplexed through this manager. Created new hook wrappers (frontend/src/lib/mercure/index.ts) that use the manager. Updated 9 files to import from the new centralized module. Tested locally - console shows single connection with proper topic management. Deployed to production."
        }
      ]
    },
    "api": {
      "name": "API Issues",
      "description": "Backend errors, incorrect responses, missing endpoints",
      "issues": [
        {
          "id": "API-001",
          "title": "Field groups endpoint returns 500 error",
          "severity": "high",
          "status": "verified",
          "description": "The /api/boards/{boardId}/field-groups endpoint returns a 500 Internal Server Error",
          "stepsToReproduce": [
            "Navigate to any board",
            "Observe network requests"
          ],
          "expectedBehavior": "Endpoint should return field group configuration for the board",
          "actualBehavior": "Returns 500 Internal Server Error",
          "affectedFiles": [
            "web/modules/custom/boxtasks_api/src/Controller/FieldGroupsController.php"
          ],
          "suggestedFix": "Debug the Drupal endpoint to identify the server-side error. Check Drupal logs at /admin/reports/dblog",
          "screenshotPath": null,
          "testedOn": {
            "browser": "Chromium (Playwright)",
            "device": "desktop",
            "environment": "production"
          },
          "foundAt": "2026-01-22T14:30:00Z",
          "fixedAt": "2026-01-22T15:15:00Z",
          "verifiedAt": "2026-01-22T15:50:00Z",
          "notes": "VERIFIED ON PRODUCTION: Root cause was 'custom_field_group' content type and 'field_cfg_board' field don't exist yet. Modified FieldGroupsController::getGroups() to check if the content type and fields exist before querying, returning an empty array if not configured. Tested on https://tasks.boxraft.com - endpoint now returns 200 with [] instead of 500 error."
        }
      ]
    },
    "data": {
      "name": "Data Integrity Issues",
      "description": "Stale data, inconsistent state, missing data",
      "issues": [
        {
          "id": "DATA-001",
          "title": "Card creation fails with 403 for workspace members - permission configuration issue",
          "severity": "medium",
          "status": "open",
          "description": "When a workspace member (Edwin Kuria) tries to create a card on a board they can view, the JSON:API POST to /jsonapi/node/card returns 403 with error 'The access content permission is required.' This suggests either a misconfigured role or missing JSON:API permissions for the authenticated user role.",
          "stepsToReproduce": [
            "Login as a workspace member (Edwin Kuria)",
            "Navigate to Video Tasks board",
            "Click 'Add a card' in any list",
            "Enter a card title and click 'Add card'",
            "Observe 403 error: 'The access content permission is required.'"
          ],
          "expectedBehavior": "Workspace members with 'create cards' permission should be able to create cards",
          "actualBehavior": "Card creation fails with 403 Forbidden from JSON:API",
          "affectedFiles": [
            "Drupal role permissions configuration",
            "JSON:API content type permissions"
          ],
          "suggestedFix": "1. Check Drupal permissions at /admin/people/permissions for the 'authenticated' role. 2. Ensure 'Card: Create new content' permission is granted. 3. Verify JSON:API resource permissions for node/card. 4. Check if custom access control is interfering with card creation.",
          "screenshotPath": null,
          "testedOn": {
            "browser": "Chromium (Playwright)",
            "device": "desktop",
            "environment": "production"
          },
          "foundAt": "2026-01-22T17:30:00Z",
          "notes": "This may be intentional if Edwin Kuria's workspace role is 'Viewer' rather than 'Editor'. Need to verify the expected permission level for this user on this board. The member_role query succeeded, suggesting role lookup works, but create action fails."
        }
      ]
    },
    "functionality": {
      "name": "Functionality Issues",
      "description": "Features not working as expected",
      "issues": [],
      "testedAndWorking": [
        "Board view - lists and cards load correctly",
        "Card modal - all fields display (title, description, dates, watchers, department, client, labels)",
        "Board search - filters cards with search highlights",
        "Board filters - label, member, due date, status filters work correctly",
        "Overdue filter - correctly identifies 3 overdue cards",
        "Real-time Mercure connection - shows 'Connected' status",
        "Navigation - client-side routing between pages",
        "Everything view - displays cards grouped by workspace/board",
        "HTML entity decoding - apostrophes and special chars display correctly"
      ]
    }
  },
  "issueTemplate": {
    "id": "ISSUE-XXX",
    "title": "Brief description",
    "category": "cache|realtime|permissions|auth|ui|performance|api|data|functionality",
    "severity": "critical|high|medium|low|info",
    "status": "open|in_review|confirmed|wont_fix",
    "description": "Detailed description of the issue",
    "stepsToReproduce": ["Step 1", "Step 2"],
    "expectedBehavior": "What should happen",
    "actualBehavior": "What actually happens",
    "affectedFiles": ["file1.ts", "file2.ts"],
    "suggestedFix": "How to fix this",
    "screenshotPath": null,
    "testedOn": {
      "browser": "Chrome/Safari/Firefox",
      "device": "desktop/mobile/tablet",
      "environment": "dev/production"
    },
    "foundAt": "ISO timestamp",
    "notes": ""
  },
  "testAccounts": {
    "admin": {
      "username": null,
      "role": "Super Admin (uid=1)",
      "permissions": "All permissions"
    },
    "workspaceAdmin": {
      "username": null,
      "role": "Workspace Admin",
      "permissions": "Full workspace access"
    },
    "editor": {
      "username": null,
      "role": "Editor",
      "permissions": "Can edit cards/lists, limited admin"
    },
    "viewer": {
      "username": null,
      "role": "Viewer",
      "permissions": "Read-only access"
    },
    "nonMember": {
      "username": null,
      "role": "Non-member",
      "permissions": "Should have no access"
    }
  },
  "testEnvironments": {
    "dev": {
      "drupalUrl": "https://boxtasks2.ddev.site",
      "frontendUrl": "http://localhost:5173",
      "mercureUrl": "http://localhost:3000/.well-known/mercure",
      "status": "active"
    },
    "production": {
      "drupalUrl": "https://tasks.boxraft.com",
      "frontendUrl": "https://tasks.boxraft.com",
      "mercureUrl": "https://tasks.boxraft.com/.well-known/mercure",
      "status": "verified"
    }
  }
}
